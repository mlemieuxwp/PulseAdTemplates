!function(t){"use strict";function e(t,e){var n;for(n in t)o(t[n],e,n==t.length-1)}function n(t,e,n){var r=t.onload;t.onload=function(){r(),e&&n&&e()}}function r(t,e,r){var o=u[t];o?n(o,e,r):a(t,e,r)}function o(t,n,o){var s=i.shim[t];s&&s.deps.length?e(s.deps,function(){a(t,n,o)}):r(t,n,o)}function a(e,n,r){function o(o){o=o||t.event,("load"==o.type||c[s.readyState])&&(delete u[e],s.onload=s.onreadystatechange=s.onerror="",n&&r&&n())}function a(t){throw new Error("Syntax or http error: "+e)}if(t.parent.jQuery&&"jquery"===e)return void(r&&n());var s=document.createElement("script");return s.type="text/javascript",s.onload=s.onreadystatechange=o,s.onerror=a,s.charset="utf-8",u[e]=s,s.src=i.path[e]?i.path[e]:e,d.appendChild(s),s}var i={path:{jquery:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/jquery-1.11.0.min.js",slick:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/mobile-300x250/slick.min.js"},shim:{slick:{deps:["jquery"]}}},s=t.document,d=s&&(s.head||s.getElementsByTagName("head")[0]),u={},c="addEventListener"in t?{}:{loaded:1,complete:1};t.parent.jQuery&&(t.$=t.parent.jQuery,t.jQuery=t.parent.jQuery),t.getScript=e}(this.window||"undefined"!=typeof global&&global||this);
getScript(["jquery"],function(){var e=$.proxy($.fn.find,$(document)),a=function(){function a(a){if(a){var t=Math.floor(1e7*Math.random())+"?";a+=t,e(".pulse-tracking-wrapper").append('<img src="'+a+'" alt="" border="0" height="1" width="1" style="display:none;" />')}}function t(e){e.preventDefault(),top.window.open(c)}function p(a){a.preventDefault(),s.muted?(s.muted=!1,e(this).removeClass("fa-volume-off")):(s.muted=!0,e(this).addClass("fa-volume-off"))}function l(t){t.preventDefault(),s.paused||s.ended?(a(d),s.play(),e(s).parent().addClass("pulse-player-active"),e(s).css("visibility","visible"),e(this).addClass("fa-pause-circle-o pulse-player-pause")):(s.pause(),e(this).removeClass("fa-pause-circle-o pulse-player-pause"))}function o(){s.load(),$has_video_ctrls&&$video_play_button.removeClass("fa-pause-circle-o pulse-player-pause").show()}function n(){e(".pulse-wrapper").on("mouseenter",".pulse-player-active",function(){$video_play_button.fadeIn()}),e(".pulse-wrapper").on("mouseleave",".pulse-player-active",function(){$video_play_button.fadeOut()})}function u(){$video_wrapper.length&&!s.hasAttribute("autoplay")?$video_wrapper.on("click",function(a){$video_wrapper.off("click"),$video_play_button.click(),e(s).on("click",t)}):e(s).on("click",t)}function i(){e(".pulse-player-poster").on("click",t),$video_mute_button.on("click",p),$video_play_button.on("click",l),u(),e(s).on("ended",o)}function r(){i(),n()}var s=document.getElementById("pulse-player"),c=e(".pulse-wrapper").data("click"),d=e(".pulse-wrapper").data("track")?e(".pulse-wrapper").data("track"):!1;return $video_play_button=e(".pulse-player-play"),$video_mute_button=e(".pulse-player-volume"),$video_wrapper=e(".pulse-player-wrapper"),$has_video_ctrls=e(".pulse-player-no-ctrls").length>0?!1:!0,{init:r}}();a.init()});
