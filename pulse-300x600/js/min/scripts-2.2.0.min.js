!function(t){"use strict";function n(t,n){var e;for(e in t)a(t[e],n,e==t.length-1)}function e(t,n,e){var o=t.onload;t.onload=function(){o(),n&&e&&n()}}function o(t,n,o){var a=d[t];a?e(a,n,o):r(t,n,o)}function a(t,e,a){var i=s.shim[t];i&&i.deps.length?n(i.deps,function(){r(t,e,a)}):o(t,e,a)}function r(t,n,e){function o(o){delete d[t],r.onload=r.onreadystatechange=r.onerror="",n&&e&&n()}function a(n){throw new Error("Syntax or http error: "+t)}var r=document.createElement("script");return r.type="text/javascript",r.onload=r.onreadystatechange=o,r.onerror=a,r.charset="utf-8",d[t]=r,r.src=s.path[t]?s.path[t]:t,c.appendChild(r),r}var s={path:{jquery:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/jquery-1.11.0.min.js",slick:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/mobile-300x250/slick.min.js"},shim:{slick:{deps:["jquery"]}}},i=t.document,c=i&&(i.head||i.getElementsByTagName("head")[0]),d={};t.getScript=n}(this.window||"undefined"!=typeof global&&global||this);
getScript(["jquery"],function(){$="undefined"!=typeof $?$:top.jQuery;var e=$.proxy($.fn.find,$(document)),a=function(){function a(){$(s).data("current-time")&&(s.currentTime=$(s).data("current-time"))}function l(e){e.preventDefault(),window.open(o)}function p(a){a.preventDefault(),s.muted?(s.muted=!1,e(this).removeClass("fa-volume-off")):(s.muted=!0,e(this).addClass("fa-volume-off"))}function t(a){a.preventDefault(),y.length&&m&&(y.off("click"),m=!1,e(s).on("click",l)),s.paused||s.ended?(s.play(),e(s).parent().addClass("pulse-player-active"),e(s).css("visibility","visible"),e(this).addClass("fa-pause-circle-o pulse-player-pause")):(s.pause(),e(this).removeClass("fa-pause-circle-o pulse-player-pause"))}function n(){s.load(),v&&f.removeClass("fa-pause-circle-o pulse-player-pause").show()}function u(){e(".pulse-wrapper").on("mouseenter",".pulse-player-active",function(){f.fadeIn()}),e(".pulse-wrapper").on("mouseleave",".pulse-player-active",function(){f.fadeOut()})}function r(){y.length&&!s.hasAttribute("autoplay")?y.on("click",function(e){f.click()}):e(s).on("click",l)}function i(){e(".pulse-player-poster").on("click",l),d.on("click",p),f.on("click",t),a(),r(),e(s).on("ended",n)}function c(){i(),u()}var s=document.getElementById("pulse-player"),o=e(".pulse-wrapper").data("click"),f=(e(".pulse-player-wrapper").data("video-track-play")||e(".pulse-wrapper").data("track")||!1,e(".pulse-player-wrapper").data("video-track-end")||!1,e(".pulse-player-play")),d=e(".pulse-player-volume"),y=e(".pulse-player-wrapper"),v=e(".pulse-player-no-ctrls").length>0?!1:!0,m=!0;return{init:c}}();a.init()});
var PulseTracking=function(){function e(e){var t=new Image;t.alt="",t.border=0,t.height=1,t.width=1,t.style.display="none",e&&(e=e.replace(/%%CACHEBUSTER%%/gi,""),e+=Math.floor(1e12*Math.random())+"?",t.src=e,l.appendChild(t))}function t(e){var t=(e/4).toFixed(1);sessionStorage.setItem("one",t),sessionStorage.setItem("two",(2*t).toFixed(1)),sessionStorage.setItem("three",(3*t).toFixed(1))}function n(){var t=a.currentTime.toFixed(1);g&&t>=parseInt(sessionStorage.getItem("one"))?(e(g),sessionStorage.setItem("one",null)):c&&t>=parseInt(sessionStorage.getItem("two"))?(e(c),sessionStorage.setItem("two",null)):m&&t>=parseInt(sessionStorage.getItem("three"))&&(e(m),sessionStorage.setItem("three",null))}function i(){e(u)}function s(){e(d),t(this.duration)}function o(){a&&(a.addEventListener("ended",i,!1),a.addEventListener("timeupdate",n,!1),a.addEventListener("play",s,!1))}function r(){o()}var a=document.getElementById("pulse-player"),l=document.getElementsByClassName("pulse-tracking-wrapper")[0];if("undefined"!=typeof PulseVideoTracking)var d=PulseVideoTracking.start||null,u=PulseVideoTracking&&PulseVideoTracking.end||null,g=PulseVideoTracking&&PulseVideoTracking.quarter||null,c=PulseVideoTracking&&PulseVideoTracking.half||null,m=PulseVideoTracking&&PulseVideoTracking.threequarters||null;return{init:r}}();document.addEventListener("DOMContentLoaded",PulseTracking.init(),!1);
getScript(["jquery","slick"],function(){$(".pulse-slides").slick({slidesToShow:1,infinite:!0,adaptiveHeight:!0}),$("button.slick-prev").insertBefore("button.slick-next")});