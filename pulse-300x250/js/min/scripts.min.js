!function(t){"use strict";function e(t,e){var n;for(n in t)o(t[n],e,n==t.length-1)}function n(t,e,n){var r=t.onload;t.onload=function(){r(),e&&n&&e()}}function r(t,e,r){var o=c[t];o?n(o,e,r):a(t,e,r)}function o(t,n,o){var i=s.shim[t];i&&i.deps.length?e(i.deps,function(){a(t,n,o)}):r(t,n,o)}function a(e,n,r){function o(t){delete c[e],i.onload=i.onreadystatechange=i.onerror="",n&&r&&n()}function a(t){throw new Error("Syntax or http error: "+e)}if(t.parent.jQuery&&"jquery"===e)return void(r&&n());var i=document.createElement("script");return i.type="text/javascript",i.onload=i.onreadystatechange=o,i.onerror=a,i.charset="utf-8",c[e]=i,i.src=s.path[e]?s.path[e]:e,u.appendChild(i),i}var s={path:{jquery:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/jquery-1.11.0.min.js",slick:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/mobile-300x250/slick.min.js"},shim:{slick:{deps:["jquery"]}}},i=t.document,u=i&&(i.head||i.getElementsByTagName("head")[0]),c={};t.parent.jQuery&&(t.$=t.parent.jQuery,t.jQuery=t.parent.jQuery),t.getScript=e}(this.window||"undefined"!=typeof global&&global||this);
getScript(["jquery","slick"],function(){var e=$.proxy($.fn.find,$(document)),t=e(".pulse-mobile"),n=function(){function n(){var n=t.slick("getSlick"),a=n.slideCount-1;t.on("beforeChange",function(t,n,i,l){a===l&&e(".js-pulse-animate").slideUp(),e(".js-pulse-animate").is(":visible")||e(".js-pulse-animate").slideDown()})}function a(){t.slick({lazyLoad:"ondemand",rtl:!1})}function i(t){var n=e(t).data("poster");n&&t.setAttribute("poster",n)}function l(t){var n=e(t).data("src"),a=document.createElement("source");a.setAttribute("src",n),t.appendChild(a)}function r(){if(document.getElementById("pulse-player")){var n=document.getElementById("pulse-player"),a=n.parentNode.parentNode,r=e(a).data("slick-index");t.on("beforeChange",function(t,a,o,s){s===r?(i(n),l(n)):n.hasAttribute("playing")&&(n.pause(),e(".pulse-player-active").removeClass("pulse-player-active"),e(".pulse-player-pause").show(),n.removeAttribute("playing"))})}}function o(){if(document.getElementById("pulse-mobile-ad")){var n=document.getElementById("pulse-mobile-ad"),a=n.parentNode.parentNode,i=e(a).data("slick-index");t.on("beforeChange",function(t,a,l,r){if(!e(n).hasClass("js-pulse-mobile-ad-active")&&r===i){var o=e(n).data("iframe");e(n).append('<iframe frameborder="0" scrolling="no" marginheight="0" marginwidth="0" height="250" width="300" src="'+o+'" topmargin="0" leftmargin="0" allowtransparency="1"></iframe>').addClass("js-pulse-mobile-ad-active")}})}}function s(){a(),n(),r(),o()}return{init:s}}();n.init()});
getScript(["jquery"],function(){var e=function(){function e(e){if(e){var a=Math.floor(1e7*Math.random())+"?";e+=a,u(".pulse-tracking-wrapper").append('<img src="'+e+'" alt="" border="0" height="1" width="1" style="display:none;" />')}}function a(e){e.preventDefault(),top.window.open(c)}function l(e){e.preventDefault(),o.muted?(o.muted=!1,u(this).removeClass("fa-volume-off")):(o.muted=!0,u(this).addClass("fa-volume-off"))}function t(a){a.preventDefault(),v.length&&v.off("click"),o.paused||o.ended?(e(f),o.play(),o.setAttribute("playing","true"),u(o).parent().addClass("pulse-player-active"),u(o).css("visibility","visible"),u(this).addClass("fa-pause-circle-o pulse-player-pause")):(o.pause(),o.removeAttribute("playing"),u(this).removeClass("fa-pause-circle-o pulse-player-pause"))}function p(){o.load(),$has_video_ctrls&&(u(o).parent().removeClass("pulse-player-active"),d.removeClass("fa-pause-circle-o pulse-player-pause").show())}function n(){u(".pulse-mobile-wrapper").on("mouseenter",".pulse-player-active",function(){d.fadeIn()}),u(".pulse-mobile-wrapper").on("mouseleave",".pulse-player-active",function(){d.fadeOut()})}function i(){v.length&&!o.hasAttribute("autoplay")?v.on("click",function(e){d.click(),u(o).on("click",a)}):u(o).on("click",a)}function r(){m.on("click",l),d.on("click",t),i(),u(o).on("ended",p)}function s(){r(),n()}var u=$.proxy($.fn.find,$(document)),o=document.getElementById("pulse-player"),c=u(".pulse-mobile-wrapper").data("click"),f=u(".pulse-mobile-wrapper").data("track")?u(".pulse-mobile-wrapper").data("track"):!1,d=u(".pulse-player-play"),m=u(".pulse-player-volume"),v=u(".pulse-player-wrapper");return $has_video_ctrls=u(".pulse-player-no-ctrls").length>0?!1:!0,{init:s}}();e.init()});