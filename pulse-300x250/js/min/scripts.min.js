!function(t){"use strict";function n(t,n){var e;for(e in t)a(t[e],n,e==t.length-1)}function e(t,n,e){var o=t.onload;t.onload=function(){o(),n&&e&&n()}}function o(t,n,o){var a=d[t];a?e(a,n,o):r(t,n,o)}function a(t,e,a){var i=s.shim[t];i&&i.deps.length?n(i.deps,function(){r(t,e,a)}):o(t,e,a)}function r(t,n,e){function o(o){delete d[t],r.onload=r.onreadystatechange=r.onerror="",n&&e&&n()}function a(n){throw new Error("Syntax or http error: "+t)}var r=document.createElement("script");return r.type="text/javascript",r.onload=r.onreadystatechange=o,r.onerror=a,r.charset="utf-8",d[t]=r,r.src=s.path[t]?s.path[t]:t,c.appendChild(r),r}var s={path:{jquery:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/jquery-1.11.0.min.js",slick:"https://www.washingtonpost.com/wp-stat/advertising/PostPulse/js/mobile-300x250/slick.min.js"},shim:{slick:{deps:["jquery"]}}},i=t.document,c=i&&(i.head||i.getElementsByTagName("head")[0]),d={};t.getScript=n}(this.window||"undefined"!=typeof global&&global||this);
var PulseArticles=function(){function e(e,i){for(var t,s=/<%([^%>]+)?%>/g,r=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,l="var r=[];\n",a=0,n=function(e,i){return l+=i?e.match(r)?e+"\n":"r.push("+e+");\n":""!=e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",n};t=s.exec(e);)n(e.slice(a,t.index))(t[1],!0),a=t.index+t[0].length;return n(e.substr(a,e.length-a)),l+='return r.join("");',new Function(l.replace(/[\r\t\n]/g,"")).apply(i)}function t(e){for(var i=e.length-1;i>0;i--){var t=Math.floor(Math.random()*(i+1)),s=e[i];e[i]=e[t],e[t]=s}return e}function s(){if(document.getElementById("articles")){var s,l,a=document.getElementById("articles"),n=a.getAttribute("data-articles"),c=a.getAttribute("data-shuffle");n=JSON.parse(n),c?(l=t(n),s=l.slice(1,4)):s=n;var o=e(r,{articles:s,showArticles:!0}),d=document.createElement("div");for(d.innerHTML=o,i=0;i<d.childNodes.length;)el=d.childNodes[i],d.removeChild(el),a.insertBefore(el,a.firstChild)}}var r='<%if(this.showArticles) {%><%for(var index in this.articles) {%><div><div class="pulse-mobile-desc-wrapper"><div class="pulse-mobile-desc"><a href="<%this.articles[index].url%>" class="pulse-mobile-desc-link" target="_top"><p class="pulse-mobile-desc-text"><%this.articles[index].title%></p><p class="pulse-mobile-article-readmore">READ MORE <i class="fa fa-angle-double-right fa-1"></i></p></a></div></div><%if(this.articles[index].src) {%><img class="pulse-mobile-slide-img" data-lazy="https://img.washingtonpost.com/wp-apps/imrs.php?src=<%this.articles[index].src%>&w=300"><%}%></div><%}%><%} else {%><p>none</p><%}%>';return{loadArticles:s}}();PulseArticles.loadArticles();
getScript(["jquery","slick"],function(){var e=$.proxy($.fn.find,$(document)),t=e(".pulse-mobile"),n=e(".pulse-mobile-wrapper").data("click"),a=function(){function a(e){e.preventDefault(),window.open(n)}function i(){var n=t.slick("getSlick");n.slideCount-1;t.on("beforeChange",function(t,n,a,i){n.$slides[i].hasAttribute("data-animate")&&e(".js-pulse-animate").slideUp(),e(".js-pulse-animate").is(":visible")||e(".js-pulse-animate").slideDown()})}function l(){t.slick({lazyLoad:"ondemand",rtl:!1})}function o(t){var n=e(t).data("poster");n&&t.setAttribute("poster",n)}function r(t){var n=e(t).data("src"),a=document.createElement("source");a.setAttribute("src",n),t.appendChild(a)}function s(){if(document.getElementById("pulse-player")){var n=document.getElementById("pulse-player"),a=n.parentNode.parentNode,i=e(a).data("slick-index");t.on("beforeChange",function(t,a,l,s){s===i?(o(n),r(n)):n.hasAttribute("playing")&&(n.pause(),e(".pulse-player-active").removeClass("pulse-player-active"),e(".pulse-player-pause").show(),n.removeAttribute("playing"))})}}function d(){if(document.getElementById("pulse-mobile-ad")){var n=document.getElementById("pulse-mobile-ad"),a=n.parentNode.parentNode,i=e(a).data("slick-index");t.on("beforeChange",function(t,a,l,o){if(!e(n).hasClass("js-pulse-mobile-ad-active")&&o===i){var r=e(n).data("iframe");e(n).append('<iframe frameborder="0" scrolling="no" marginheight="0" marginwidth="0" height="250" width="300" src="'+r+'" topmargin="0" leftmargin="0" allowtransparency="1"></iframe>').addClass("js-pulse-mobile-ad-active")}})}}function u(){if(n&&document.getElementById("js-pulse-mobile-img-ad")){document.getElementById("pulse-mobile-ad"),e(".pulse-mobile-wrapper").data("click");e("#js-pulse-mobile-img-ad").on("click",a)}}function c(){var n=document.getElementById("pulse-mobile-ad-iframe");if(n){var a=e(n).data("slick-index"),i=e(n).children(":first")[0],l=e(i).is("NOSCRIPT")?!0:!1,o=!1;a&&l&&t.on("beforeChange",function(t,l,r,s){if(s===a&&!o){var d=e(i).text();e(n).append(d),o=!0}})}}function p(){l(),i(),s(),d(),u(),c()}return{init:p}}();a.init()});
getScript(["jquery"],function(){var e=function(){function e(e){if(e){var a=Math.floor(1e7*Math.random())+"?";e+=a,o(".pulse-tracking-wrapper").append('<img src="'+e+'" alt="" border="0" height="1" width="1" style="display:none;" />')}}function a(){$(c).data("current-time")&&(c.currentTime=$(c).data("current-time"))}function t(e){e.preventDefault(),window.open(f)}function l(e){e.preventDefault(),c.muted?(c.muted=!1,o(this).removeClass("fa-volume-off")):(c.muted=!0,o(this).addClass("fa-volume-off"))}function i(a){a.preventDefault(),y.length&&isFirstClick&&(y.off("click"),isFirstClick=!1,o(c).on("click",t)),c.paused||c.ended?(e(d),c.play(),c.setAttribute("playing","true"),o(c).parent().addClass("pulse-player-active"),o(c).css("visibility","visible"),o(this).addClass("fa-pause-circle-o pulse-player-pause")):(c.pause(),c.removeAttribute("playing"),o(this).removeClass("fa-pause-circle-o pulse-player-pause"))}function r(){c.load(),$has_video_ctrls&&(o(c).parent().removeClass("pulse-player-active"),m.removeClass("fa-pause-circle-o pulse-player-pause").show())}function n(){o(".pulse-mobile-wrapper").on("mouseenter",".pulse-player-active",function(){m.fadeIn()}),o(".pulse-mobile-wrapper").on("mouseleave",".pulse-player-active",function(){m.fadeOut()})}function p(){y.length&&!c.hasAttribute("autoplay")?y.on("click",function(e){m.click()}):o(c).on("click",t)}function s(){v.on("click",l),m.on("click",i),p(),a(),o(c).on("ended",r)}function u(){s(),n()}var o=$.proxy($.fn.find,$(document)),c=document.getElementById("pulse-player"),f=o(".pulse-mobile-wrapper").data("click"),d=o(".pulse-mobile-wrapper").data("track")?o(".pulse-mobile-wrapper").data("track"):!1,m=o(".pulse-player-play"),v=o(".pulse-player-volume"),y=o(".pulse-player-wrapper");return $has_video_ctrls=o(".pulse-player-no-ctrls").length>0?!1:!0,isFirstClick=!0,{init:u}}();e.init()});